# オブジェクト事項設計実践ガイド
## 単一責任のクラスを設計する
変更が簡単なコード（TRUEなコード）を書くために、それぞれのクラスが明確に定義された**単一の責任を持つ**ように徹底する

## TRUEなコードとは
- 見通しがいい（Transparent）：
  変更するコードにおいても、そのコードに依存する別の場所のコードにおいても**変更がもたらす影響が明白である**
- 合理的（Reasonable）：
  どんな変更であっても、**かかるコストは変更がもたらす利益にふさわしい**
- 利用性が高い（Usable）：
  新しい環境、予期していなかった環境でも**再利用できる**
- 模範的（Exemplary）：
  コードに変更を加える人が、上記の品質を自然と保つようなコードになっている

## クラスが単一責任か見極める方法
- クラスの持つメソッドに対して問いただす
  クラスにとってその質問に違和感がなければそのクラスの責任範囲は適切である
- クラスを1文で説明してみる
　「または〜」や「それと」が必要であればそのクラスは複数の責任を持っている

この時点でGearクラスは複数の責任を持っていることがわかる
**But**今すぐ設計を見直しコードを変更する必要はない

→現時点でGearクラスは将来的にアプリの1部品となることは明らかではあるが他のコードとどのような依存関係を持つかまでは**まだわからない**

→→現在のGearクラスは「見通しが良い」「合理的」という2の性質を持っている（依存関係がなく、変更が加わっても周りへの影響がないため）

そのため情報量が少ない現時点で改修を行うよりも、他のコードが生まれより多くの情報を持ったタイミングで再構成を考えた方が不透明な現時点で改修を行うよりもコストが低い可能性が高い→新しい依存関係をもてば、優れた設計の決定を下すために必要な情報を与えてくれる

何もしないことによる将来的なコストが現在と変わらない場合は**決定（改修）を延期しよう**

ただ、どんな変更が加わるかがわからなくても、そのクラスが**簡単に変更を受け入れられる**ようにコードを構成することは可能である

## 変更を歓迎するコードを書くためのテクニック
- データではなく振る舞いに依存する
  - データとして参照するのではなく振る舞いとして参照する。データを参照してしまうと変更があった際に全ての箇所でデータの修正を行わなければいけないが、振る舞いを参照すれば、その振る舞いを再定義するだけで済む！

- データ構造を隠蔽する：よくわからん

- あらゆる箇所を単一責任にする
